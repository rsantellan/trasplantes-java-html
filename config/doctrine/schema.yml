Pacientes:
  tableName: pacientes
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true    
    the:
      type: integer(4)
      notnull: true
    ci:
      type: string(12)
      notnull: true
    nombre:
      type: string(50)
      notnull: true
    apellido:
      type: string(50)
      notnull: true
    num_fnr:
      type: integer(3)
      notnull: true
    raza:
      type: string(15)
      notnull: true
    sexo:
      type: enum
      length: 1
      values: ['M','F']
      notnull: true
    fecha_nacimiento:
      type: date(25)
      notnull: true
    fecha_dialisis:
      type: date(25)
      notnull: true
    nefropatia_id:
      type: integer(4)
      notnull: true
    grupo_sanguineo:
      type: enum
      length: 2
      values: ['A','B','AB','O']
      notnull: true
  relations:
    Nefropatia:
      local: nefropatia_id
      foreign: id
      type: one
      onDelete: CASCADE
      
Nefropatia:
  actAs: [Timestampable]
  tableName: nefropatia
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(255)
      notnull: true

Pacientepretrasplante:
  tableName: paciente_pre_trasplante
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    paciente_id:
      type: integer(4)
      notnull: true
    the:
      type: integer(4)
      unique: true
      notnull: true      
    fecha_ingreso_lista:
      type: date(25)
      notnull: true
    fecha_egreso:
      type: date(25)
    modalidad_d:
      type: enum
      length: 11
      values: ['HD','DPCA','HD+DPCA','TR','HD+TR','DPCA+TR','HD+TR+DPCA','TM']
      notnull: true
    diabetes:
      type: enum
      length: 8
      values: ['No','Tipo I','Tipo II']
      notnull: true
    imc:
      type: enum
      length: 14
      values: ['<20','entre 20 y 25','>25']
      notnull: true
    origen:
      type: enum
      length: 4
      values: ['MSP','IAMC','Otra']
      notnull: true
    pbr:
      type: integer(1)
      default: 0
    hta:
      type: integer(1)
      default: 0
    obesidad:
      type: integer(1)
      default: 0
    dislipemia:
      type: integer(1)
      default: 0
    tabaquismo:
      type: integer(1)
      default: 0
    iam:
      type: integer(1)
      default: 0
    ave:
      type: integer(1)
      default: 0
    revasc_cardio:
      type: integer(1)
      default: 0
  relations:
    Pacientes:
      local: paciente_id
      foreign: id
      type: one
      onDelete: CASCADE

PacienteMuerte:
  tableName: paciente_muerte
  columns:
    paciente_id:
      type: integer(4)
      primary: true
    causa_muerte_id:
      type: integer(4)
      notnull: true
    fecha_muerte:
      type: date(25)
      notnull: true
    transplante_funcionando:
      type: integer(1)
      default: 0
  relations:
    Pacientes:
      local: paciente_id
      foreign: id
      type: one
      onDelete: CASCADE
    PacienteCausaMuerte:
      local: causa_muerte_id
      foreign: id
      type: one
            
PacienteCausaMuerte:
  actAs: [Timestampable]
  tableName: paciente_causa_muerte
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(255)
      notnull: true

Donante:
  actAs: [Timestampable]
  tableName: donante
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    identificador:
      type: string(20)
      unique: true
    tipo_donante:
      type: enum
      length: 10
      values: ['Cadav√©rico','Vivo']
      notnull: true
    sexo_donante:
      type: enum
      length: 1
      values: ['M','F']
      notnull: true
    edad_donante:
      type: integer(1)
    enastab_hemod:
      type: integer(1)
    donante_causa_muerte_id:
      type: integer(4)
      notnull: true
    cr_p:
      type: float()
      default: 0
    otros:
      type: string(255)
    grupo_sanguineo:
      type: enum
      length: 2
      values: ['A','B','AB','O']
      notnull: true
    relacion_filiar:
      type: enum
      length: 11
      values: ['padre/madre','hermano/a','Hijo/a','esposo/a','otro']
    peso:
      type: integer(4)
    altura:
      type: float()
  relations:
    DonanteCausaMuerte:
      local: donante_causa_muerte_id
      foreign: id
      type: one
    DonanteOrganos:
      class: Organos
      local: donante_id
      foreign: organo_id
      refClass: DonanteOrganos
      foreignAlias: Donantes
    DonanteAntecedentes:
      class: AntecedentesDeDonante
      local: donante_id
      foreign: antecedente_de_donante_id
      refClass: DonanteAntecedentes
      foreignAlias: Donantes      
            
AntecedentesDeDonante:
  actAs: [Timestampable]
  tableName: antecedentes_de_donante
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(255)
      notnull: true

DonanteCausaMuerte:
  actAs: [Timestampable]
  tableName: donante_causa_muerte
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(255)
      notnull: true
      
DonanteOrganos:
  actAs: [Timestampable]
  tableName: donante_organos
  options:
    symfony:
      form:   false
      filter: false  
  columns:
    donante_id:
      type: integer(4)
      notnull: true
      primary: true
    organo_id:
      type: integer(4)
      notnull: true
      primary: true
  relations:
    Donante:
      local: donante_id
      foreign: id
      type: one
      onDelete: CASCADE
    Organos:
      local: organo_id
      foreign: id
      type: one
      onDelete: CASCADE
            
Organos:
  actAs: [Timestampable]
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(255)
      notnull: true
      
DonanteAntecedentes:
  actAs: [Timestampable]
  tableName: donante_antecedentes
  options:
    symfony:
      form:   false
      filter: false  
  columns:
    donante_id:
      type: integer(4)
      notnull: true
      primary: true
    antecedente_de_donante_id:
      type: integer(4)
      notnull: true
      primary: true
  relations:      
    Donante:
      local: donante_id
      foreign: id
      type: one
      onDelete: CASCADE
    AntecedentesDeDonante:
      local: antecedente_de_donante_id
      foreign: id
      type: one
      onDelete: CASCADE

# Serol no esta implementado.
DonanteSerol:
  actAs: [Timestampable]
  tableName: donante_serol
  options:
    symfony:
      form:   false
      filter: false  
  columns:
    donante_id:
      type: integer(4)
      notnull: true
      primary: true
    serol_id:
      type: integer(4)
      notnull: true
      primary: true
    serol_valor_id:
      type: integer(4)
      notnull: true
  relations:      
    Donante:
      local: donante_id
      foreign: id
      type: one
    Serol:
      local: serol_id
      foreign: id
      type: one
    SerolValor:
      local: serol_valor_id
      foreign: id
      type: one
                  
Serol:
  tableName: serol
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    tipo:
      type: string(50)
      notnull: true
      
SerolValor:
  tableName: serol_valor
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true  
    serol_id:
      type: integer(4)
      notnull: true
    valor:
      type: string(50)
      notnull: true
  relations:       
    Serol:
      local: serol_id
      foreign: id
      type: one
      onDelete: CASCADE    
      
                                    
Trasplante:
  actAs: [Timestampable]
  tableName: trasplante
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    paciente_pre_trasplante_id:
      type: integer(4)
      notnull: true
    fecha:
      type: date(25)
      notnull: true
    numero_de_transplantes_realizados:
      type: integer(4)
    donante_id:
      type: integer(4)
      notnull: true
    inestab_hemodial:
      type: integer(1)
    rinhon:
      type: string(10)
    anomalia_vascular:
      type: integer(1)
    numero_arterias:
      type: integer(1)
    numero_venas:
      type: integer(1)
    ureter:
      type: string(5)
    numero_compatibilidad_ab:
      type: integer(3)
    numero_compatibilidad_dr:
      type: integer(3)
    numero_incompatibilidad_ab:
      type: integer(3)
    numero_incompatibilidad_dr:
      type: integer(3)
    autoac:
      type: integer(1)
    pra_max:
      type: string(10)
    pra_tr:
      type: string(20)
    trans_previas:
      type: integer(1)
    numero_transf:
      type: integer(1)
    embarazo:
      type: enum
      length: 9
      values: ['si','no','no aplica']
      notnull: true
      default: 'no aplica'
    numero_embarazo:
      type: integer(1)
      default: 0
    liquido_perfusion:
      type: enum
      length: 12
      values: ['Eurocollins','WC','Custodiol','Otro']
      notnull: true
    tq_de_banco:
      type: integer(1)
    lado_implante:
      type: enum
      length: 12
      values: ['Derecho','Izquierdo']
      notnull: true
    anast_venosa:
      type: enum
      length: 17
      values: ['Termino lateral','Termino terminal','otra']
      notnull: true      
    anast_arterial:
      type: enum
      length: 17
      values: ['Termino lateral','Termino terminal','otra']
      notnull: true
    anast_ureteral:
      type: enum
      length: 9
      values: ['Alferez','Taguchi','Gregoire','Lick','Otra']
      notnull: true      
    t_isq_cal_min:
      type: integer(3)
      default: 0
    t_isq_fria_hs:
      type: integer(3)
      default: 0
    t_isq_fria_min:
      type: integer(3)
      default: 0
    t_isq_tibia_hs:
      type: integer(3)
      default: 0
    reperfusion:
      type: enum
      length: 7
      values: ['buena','regular','mala']
      notnull: true      
    sangrado_i_op:
      type: integer(1)
    lesion_arterial:
      type: integer(1)
    lesion_venosa:
      type: integer(1)
    necesidad_repefundir:
      type: integer(1)
    otras_compl_quirur:
      type: string(250)
    diuresis_i_op:
      type: integer(1)
    cr_inicial:
      type: float()
      default: 0
    dia_rec_diuresis:
      type: integer(2)
      default: 0
    dia_rec_funcional:
      type: integer(2)
      default: 0
    dialisis:
      type: integer(1)
    num_de_hd:
      type: integer(2)
    comentario:
      type: string(255)
    fecha_alta:
      type: date(25)
  relations:       
    Pacientepretrasplante:
      local: paciente_pre_trasplante_id
      foreign: id
      type: one
      onDelete: CASCADE 
    Donante:
      local: donante_id
      foreign: id
      type: one
     
      
Cmv:
  actAs: [Timestampable]
  tableName: cmv
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true  
    trasplante_id:
      type: integer(4)
      notnull: true
    fecha:
      type: date(25)
      notnull: true
    cmv_diagnostico_id:
      type: integer(4)
      notnull: true
    tipo:
      type: integer(1)
      notnull: true
    cmv_droga_id:
      type: integer(4)
      notnull: true
    dias_tratamiento:
      type: integer(2)
      default: 0
      notnull: true
    efecto_secundario:
      type: string(255)
  relations:
    Trasplante:
      local: trasplante_id
      foreign: id
      type: one
      onDelete: CASCADE
    Cmvdiagnostico:
      local: cmv_diagnostico_id
      foreign: id
      type: one
    Cmvdrogas:
      local: cmv_droga_id
      foreign: id
      type: one
    CmvEmfermedades:
      class: Cmvemfermedades
      local: cmv_id
      foreign: cmv_emfermedades_id
      refClass: CmvUsoEnfermedades
      foreignAlias: Cmvs      
      
Cmvdiagnostico:
  actAs: [Timestampable]
  tableName: cmvdiagnostico
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true  
    nombre:
      type: string(50)
      notnull: true
      
Cmvdrogas:
  actAs: [Timestampable]
  tableName: cmvdrogas
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(50)
      notnull: true
      

CmvUsoEnfermedades:
  tableName: cmv_uso_enfermedades
  options:
    symfony:
      form:   false
      filter: false
  actAs: [Timestampable]
  columns:
    cmv_id:
      type: integer(4)
      primary: true
    cmv_emfermedades_id:
      type: integer(4)
      primary: true
  relations:
    Cmv:
      local: cmv_id
      onDelete: CASCADE
    Cmvemfermedades:
      local: cmv_emfermedades_id
      onDelete: CASCADE
           
Cmvemfermedades:
  actAs: [Timestampable]
  tableName: cmvemfermedades
  columns:
    id:
      type: integer(4)
      primary: true
      autoincrement: true
    nombre:
      type: string(50)
      notnull: true
